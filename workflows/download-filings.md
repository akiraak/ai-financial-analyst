# 決算資料のダウンロード

## 方針

- 取得可能な全期間を対象とする（対象範囲の確認は不要）
- ファイルのダウンロード実行に許可は不要（確認なしで進めてよい）
- **企業IRの四半期決算ページを資料の一覧元（マスター）とする**

## 手順

### 1. 調査

対象企業の以下の情報を調べる:

- 公式IRページのURL
- **四半期決算の一覧ページのURL**（例: investor.nvidia.com/financial-info/quarterly-results/）
- SEC EDGAR上のCIK番号
- 会計年度（Fiscal Year）の定義（期末月）
- 取得可能な決算資料の種類と期間

**四半期決算の一覧ページURLが見つかったら、ユーザーに確認を取ってから次のステップに進む。**

### 2. フォルダ作成

`companies/<企業名>/filings/` 配下にFY/Q単位のフォルダを作成する。

```
companies/<企業名>/filings/
├── FY2025/
│   ├── Q1/
│   ├── Q2/
│   ├── Q3/
│   └── Q4/
├── FY2024/
│   ├── Q1/
│   ...
└── README.md
```

### 3. ダウンロード

#### 3-1. IRページから資料リンクを取得

企業IRの四半期決算ページにアクセスし、各四半期の資料リンクをすべて取得する。

- Cloudflare等の保護がある場合は **Playwright** を使用する
  - インストール: `npx playwright install chromium`
- 取得したリンク一覧をJSON等で保存しておくと再利用しやすい

#### 3-2. 資料をダウンロード

取得したリンクから全資料をダウンロードする。

#### 3-3. ファイル名のルール

| 資料 | ファイル名 |
|------|-----------|
| 決算プレスリリース | `press-release.*` |
| その他の資料 | 企業が付けた名前をそのまま使用する |

### 4. README.md の記録

`companies/<企業名>/filings/README.md` に以下を記録する:

- 企業の基本情報（IRページURL、CIK番号、会計年度定義）
- 各ファイルの取得元URL
- IRページ上での資料名称
- ファイルの説明

### 5. 確認

ダウンロード結果を確認し、不足があれば追加取得する。
